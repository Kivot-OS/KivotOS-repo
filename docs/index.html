<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KivotOS APT Repository</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="hero">
    <div class="container">
      <h1>KivotOS Repository</h1>
      <p>Custom APT packages for KivotOS distribution</p>
    </div>
  </header>

  <main class="container">
    <section aria-labelledby="pkgs-title">
      <h2 id="pkgs-title">Available Packages</h2>

      <div class="grid">
        <article class="card">
          <header class="card-head">
            <h3>yazi</h3>
            <span class="version">v25.5.31</span>
          </header>
          <p>Blazing fast terminal file manager written in Rust</p>
        </article>

        <article class="card">
          <header class="card-head">
            <h3>yazi-cli</h3>
            <span class="version">v25.5.31</span>
          </header>
          <p>Command-line interface for Yazi file manager</p>
        </article>

        <article class="card">
          <header class="card-head">
            <h3>hellwal</h3>
            <span class="version">v1.0.7</span>
          </header>
          <p>Pywal-like color palette generator written in C++</p>
        </article>
      </div>

      <p class="cta">
        <a class="btn" href="https://dungdinhmanh.github.io/KivotOS-repo/">Browse APT Repository →</a>
      </p>
    </section>

    <section aria-labelledby="setup-title">
      <h2 id="setup-title">Quick Setup</h2>

      <h3>1. Import repo key</h3>
      <div class="code-wrap">
        <pre><code>curl -fsSL https://dungdinhmanh.github.io/KivotOS-repo/pubkey.gpg \
| sudo gpg --dearmor -o /usr/share/keyrings/kivotos.gpg</code></pre>
        <button class="copy-btn" data-target="key">Copy</button>
      </div>

      <h3>2. Add sources list (trixie/main)</h3>
      <div class="code-wrap">
        <pre><code>echo "deb [arch=amd64 signed-by=/usr/share/keyrings/kivotos.gpg] \
https://dungdinhmanh.github.io/KivotOS-repo/ trixie main" \
| sudo tee /etc/apt/sources.list.d/kivotos.list</code></pre>
        <button class="copy-btn" data-target="sources">Copy</button>
      </div>

      <h3>3. Update &amp; install</h3>
      <div class="code-wrap">
        <pre><code>sudo apt update
sudo apt install yazi-cli yazi-fm hellwal</code></pre>
        <button class="copy-btn" data-target="install">Copy</button>
      </div>
    </section>

    <section aria-labelledby="status-title">
      <h2 id="status-title">Repository Status</h2>
      <ul class="kv">
        <li><span>State</span><strong>Active</strong></li>
        <li><span>Distribution</span><strong>Trixie</strong></li>
        <li><span>Architecture</span><strong>amd64</strong></li>
      </ul>
      <p class="muted">Repository is automatically updated via GitHub Actions on the 1st of each month.</p>
    </section>

    <section aria-labelledby="resources-title">
      <h2 id="resources-title">Resources</h2>
      <ul class="links">
        <li><a href="https://github.com/dungdinhmanh/KivotOS-repo">→ GitHub Repository</a></li>
        <li><a href="https://dungdinhmanh.github.io/KivotOS-repo/dists/trixie/main/">→ Browse Trixie Distribution</a></li>
        <li><a href="https://dungdinhmanh.github.io/KivotOS-repo/pubkey.gpg">→ Download GPG Public Key</a></li>
        <li><a href="https://github.com/dungdinhmanh/KivotOS-repo/actions">→ Build Status</a></li>
      </ul>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>KivotOS Repository · Powered by <a href="https://pages.github.com">GitHub Pages</a></p>
    </div>
  </footer>

  <script>
    // Minimal copy-to-clipboard for each code block
    document.querySelectorAll('.code-wrap').forEach((wrap) => {
      const btn = wrap.querySelector('.copy-btn');
      const code = wrap.querySelector('pre').innerText;
      btn.addEventListener('click', async () => {
        try { await navigator.clipboard.writeText(code); btn.textContent = 'Copied'; }
        catch { btn.textContent = 'Copy failed'; }
        setTimeout(() => (btn.textContent = 'Copy'), 1500);
      });
    });
  </script>
</body>
</html>